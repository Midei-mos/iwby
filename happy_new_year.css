:root {
  --bg: #05060a;
  --accent: #ffd84d;
  --accent-2: #ff6b6b;
}

* {
  box-sizing: border-box;
}

html, body {
  height: 100%;
  margin: 0;
}

body {
  background: radial-gradient(ellipse at bottom, #0b1221 0%, #02030a 60%), var(--bg);
  color: #fff;
  font-family: system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
  animation: bg-flash 2.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) infinite;
}

.scene {
  min-height: 100vh;
  display: grid;
  place-items: center;
  overflow: hidden;
  position: relative;
  padding: 4vh 4vw;
}

h1 {
  margin: 0;
  text-align: center;
  font-weight: 900;
  font-size: clamp(2.2rem, 6vw, 6rem);
  line-height: 1.2;
  background: linear-gradient(90deg, var(--accent), var(--accent-2));
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  -webkit-text-stroke: 0.6px rgba(0, 0, 0, 0.25);
  text-shadow: 0 6px 18px rgba(0, 0, 0, 0.55);
  letter-spacing: 0.01em;
  position: relative;
  z-index: 3;
}

/* Smiley styling */
.smiley {
  font-size: 0.9em;
  margin-left: 0.1em;
}

/* ============ FIREWORKS EXPLOSION SYSTEM ============ */

.fireworks {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 1;
}

.fw {
  position: absolute;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, #fff 0%, rgba(255, 255, 255, 0.9) 12%, var(--fw-accent-core, rgba(255, 215, 77, 0.6)) 35%, transparent 65%);
  box-shadow: 
    0 0 12px 3px var(--fw-accent-glow, rgba(255, 215, 77, 0.6)),
    0 0 25px 6px var(--fw-accent-glow-soft, rgba(255, 215, 77, 0.3)),
    0 0 45px 10px var(--fw-accent-ambient, rgba(255, 150, 80, 0.15));
  transform: scale(0);
  opacity: 0;
  animation: mega-burst 2.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) infinite;
}

/* Position and color variants */
.fw:nth-child(1) {
  left: 15%;
  top: 20%;
  animation-delay: 0s;
  /* color variables for this burst */
  --fw-accent-core: rgba(255, 216, 77, 0.7);
  --fw-accent-core-fade: rgba(255, 200, 80, 0.2);
  --fw-accent-glow: rgba(255, 216, 77, 0.7);
  --fw-accent-glow-soft: rgba(255, 216, 77, 0.35);
  --fw-accent-ambient: rgba(255, 216, 77, 0.1);
  background: radial-gradient(circle at 30% 30%, #fff 0%, #ffd84d 10%, rgba(255, 216, 77, 0.15) 55%, transparent 70%);
  box-shadow: 
    0 0 15px 4px rgba(255, 216, 77, 0.7),
    0 0 35px 8px rgba(255, 216, 77, 0.35),
    0 0 60px 12px rgba(255, 216, 77, 0.1);
}

.fw:nth-child(2) {
  left: 78%;
  top: 25%;
  animation-delay: 0.4s;
  --fw-accent-core: rgba(255, 107, 107, 0.7);
  --fw-accent-core-fade: rgba(255, 107, 107, 0.18);
  --fw-accent-glow: rgba(255, 107, 107, 0.7);
  --fw-accent-glow-soft: rgba(255, 107, 107, 0.35);
  --fw-accent-ambient: rgba(255, 107, 107, 0.1);
  background: radial-gradient(circle at 30% 30%, #fff 0%, #ff6b6b 10%, rgba(255, 107, 107, 0.15) 55%, transparent 70%);
  box-shadow: 
    0 0 15px 4px rgba(255, 107, 107, 0.7),
    0 0 35px 8px rgba(255, 107, 107, 0.35),
    0 0 60px 12px rgba(255, 107, 107, 0.1);
}

.fw:nth-child(3) {
  left: 55%;
  top: 12%;
  animation-delay: 0.8s;
  --fw-accent-core: rgba(102, 221, 255, 0.7);
  --fw-accent-core-fade: rgba(102, 221, 255, 0.18);
  --fw-accent-glow: rgba(102, 221, 255, 0.7);
  --fw-accent-glow-soft: rgba(102, 221, 255, 0.35);
  --fw-accent-ambient: rgba(102, 221, 255, 0.1);
  background: radial-gradient(circle at 30% 30%, #fff 0%, #66ddff 10%, rgba(102, 221, 255, 0.15) 55%, transparent 70%);
  box-shadow: 
    0 0 15px 4px rgba(102, 221, 255, 0.7),
    0 0 35px 8px rgba(102, 221, 255, 0.35),
    0 0 60px 12px rgba(102, 221, 255, 0.1);
}

.fw:nth-child(4) {
  left: 32%;
  top: 52%;
  animation-delay: 1.2s;
  --fw-accent-core: rgba(127, 255, 192, 0.7);
  --fw-accent-core-fade: rgba(127, 255, 192, 0.18);
  --fw-accent-glow: rgba(127, 255, 192, 0.7);
  --fw-accent-glow-soft: rgba(127, 255, 192, 0.35);
  --fw-accent-ambient: rgba(127, 255, 192, 0.1);
  background: radial-gradient(circle at 30% 30%, #fff 0%, #7fffc0 10%, rgba(127, 255, 192, 0.15) 55%, transparent 70%);
  box-shadow: 
    0 0 15px 4px rgba(127, 255, 192, 0.7),
    0 0 35px 8px rgba(127, 255, 192, 0.35),
    0 0 60px 12px rgba(127, 255, 192, 0.1);
}

.fw:nth-child(5) {
  left: 72%;
  top: 68%;
  animation-delay: 1.6s;
  --fw-accent-core: rgba(255, 153, 221, 0.7);
  --fw-accent-core-fade: rgba(255, 153, 221, 0.18);
  --fw-accent-glow: rgba(255, 153, 221, 0.7);
  --fw-accent-glow-soft: rgba(255, 153, 221, 0.35);
  --fw-accent-ambient: rgba(255, 153, 221, 0.1);
  background: radial-gradient(circle at 30% 30%, #fff 0%, #ff99dd 10%, rgba(255, 153, 221, 0.15) 55%, transparent 70%);
  box-shadow: 
    0 0 15px 4px rgba(255, 153, 221, 0.7),
    0 0 35px 8px rgba(255, 153, 221, 0.35),
    0 0 60px 12px rgba(255, 153, 221, 0.1);
}

.fw:nth-child(6) {
  left: 45%;
  top: 76%;
  animation-delay: 2s;
  --fw-accent-core: rgba(255, 255, 136, 0.7);
  --fw-accent-core-fade: rgba(255, 255, 136, 0.18);
  --fw-accent-glow: rgba(255, 255, 136, 0.7);
  --fw-accent-glow-soft: rgba(255, 255, 136, 0.35);
  --fw-accent-ambient: rgba(255, 255, 136, 0.1);
  background: radial-gradient(circle at 30% 30%, #fff 0%, #ffff88 10%, rgba(255, 255, 136, 0.15) 55%, transparent 70%);
  box-shadow: 
    0 0 15px 4px rgba(255, 255, 136, 0.7),
    0 0 35px 8px rgba(255, 255, 136, 0.35),
    0 0 60px 12px rgba(255, 255, 136, 0.1);
}

.fw:nth-child(7) {
  left: 8%;
  top: 44%;
  animation-delay: 2.4s;
  --fw-accent-core: rgba(153, 221, 255, 0.7);
  --fw-accent-core-fade: rgba(153, 221, 255, 0.18);
  --fw-accent-glow: rgba(153, 221, 255, 0.7);
  --fw-accent-glow-soft: rgba(153, 221, 255, 0.35);
  --fw-accent-ambient: rgba(153, 221, 255, 0.1);
  background: radial-gradient(circle at 30% 30%, #fff 0%, #99ddff 10%, rgba(153, 221, 255, 0.15) 55%, transparent 70%);
  box-shadow: 
    0 0 15px 4px rgba(153, 221, 255, 0.7),
    0 0 35px 8px rgba(153, 221, 255, 0.35),
    0 0 60px 12px rgba(153, 221, 255, 0.1);
}

.fw:nth-child(8) {
  left: 85%;
  top: 8%;
  animation-delay: 1.1s;
  --fw-accent-core: rgba(255, 221, 153, 0.7);
  --fw-accent-core-fade: rgba(255, 221, 153, 0.18);
  --fw-accent-glow: rgba(255, 221, 153, 0.7);
  --fw-accent-glow-soft: rgba(255, 221, 153, 0.35);
  --fw-accent-ambient: rgba(255, 221, 153, 0.1);
  background: radial-gradient(circle at 30% 30%, #fff 0%, #ffdd99 10%, rgba(255, 221, 153, 0.15) 55%, transparent 70%);
  box-shadow: 
    0 0 15px 4px rgba(255, 221, 153, 0.7),
    0 0 35px 8px rgba(255, 221, 153, 0.35),
    0 0 60px 12px rgba(255, 221, 153, 0.1);
}

.fw:nth-child(9) {
  left: 50%;
  top: 85%;
  animation-delay: 1.8s;
  --fw-accent-core: rgba(153, 255, 221, 0.7);
  --fw-accent-core-fade: rgba(153, 255, 221, 0.18);
  --fw-accent-glow: rgba(153, 255, 221, 0.7);
  --fw-accent-glow-soft: rgba(153, 255, 221, 0.35);
  --fw-accent-ambient: rgba(153, 255, 221, 0.1);
  background: radial-gradient(circle at 30% 30%, #fff 0%, #99ffdd 10%, rgba(153, 255, 221, 0.15) 55%, transparent 70%);
  box-shadow: 
    0 0 15px 4px rgba(153, 255, 221, 0.7),
    0 0 35px 8px rgba(153, 255, 221, 0.35),
    0 0 60px 12px rgba(153, 255, 221, 0.1);
}

/* Main explosion - big, visible burst */
@keyframes mega-burst {
  0% {
    transform: scale(0);
    opacity: 0;
    filter: blur(0px) brightness(2);
  }
  10% {
    transform: scale(0.6);
    opacity: 1;
    filter: blur(1px) brightness(2.2);
  }
  25% {
    transform: scale(1.4);
    opacity: 1;
    filter: blur(2px) brightness(2);
  }
  45% {
    transform: scale(2.6);
    opacity: 0.95;
    filter: blur(3px) brightness(1.6);
  }
  65% {
    transform: scale(3.8);
    opacity: 0.6;
    filter: blur(4px) brightness(1.2);
  }
  85% {
    transform: scale(4.8);
    opacity: 0.2;
    filter: blur(5px) brightness(0.9);
  }
  100% {
    transform: scale(5.5);
    opacity: 0;
    filter: blur(6px) brightness(0.6);
  }
}

/* Inner core spark burst - sun-like rays radiating outward */
.fw::before {
  content: '';
  position: absolute;
  inset: -20px;
  border-radius: 50%;
  background:
    /* core uses per-firework color variables */
    radial-gradient(circle at 50% 40%, rgba(255,255,255,0.95) 0%, var(--fw-accent-core, #ffd84d) 12%, var(--fw-accent-core-fade, rgba(255,200,80,0.2)) 30%, transparent 60%),
    /* thin rays: repeating conic gradient with narrow colored slivers */
    repeating-conic-gradient(from 0deg, transparent 0deg 22.5deg, var(--fw-accent-glow, rgba(255,216,77,0.7)) 22.5deg 23.2deg);
  background-blend-mode: screen;
  animation: sun-rays 2.8s ease-out infinite;
  opacity: 1;
}

/* Multi-directional particles bursting out - creates actual shooting lines */
.fw::after {
  content: '';
  position: absolute;
  left: 50%;
  top: 50%;
  width: 3px;
  height: 3px;
  margin: -1.5px 0 0 -1.5px;
  border-radius: 50%;
  background: #fff;
  /* Create line trails by stacking shadows along each direction */
  box-shadow: 
    /* Right → */
    15px 0px 0px rgba(255, 216, 77, 1),
    30px 0px 0px rgba(255, 216, 77, 0.95),
    45px 0px 0px rgba(255, 216, 77, 0.88),
    60px 0px 0px rgba(255, 216, 77, 0.78),
    75px 0px 0px rgba(255, 216, 77, 0.65),
    90px 0px 0px rgba(255, 216, 77, 0.48),
    105px 0px 0px rgba(255, 216, 77, 0.28),
    120px 0px 0px rgba(255, 216, 77, 0.12),
    
    /* Up-Right ↗ (45deg) */
    11px 11px 0px rgba(255, 107, 107, 1),
    22px 22px 0px rgba(255, 107, 107, 0.95),
    33px 33px 0px rgba(255, 107, 107, 0.88),
    44px 44px 0px rgba(255, 107, 107, 0.78),
    55px 55px 0px rgba(255, 107, 107, 0.65),
    66px 66px 0px rgba(255, 107, 107, 0.48),
    77px 77px 0px rgba(255, 107, 107, 0.28),
    88px 88px 0px rgba(255, 107, 107, 0.12),
    
    /* Up ↑ */
    0px -15px 0px rgba(102, 221, 255, 1),
    0px -30px 0px rgba(102, 221, 255, 0.95),
    0px -45px 0px rgba(102, 221, 255, 0.88),
    0px -60px 0px rgba(102, 221, 255, 0.78),
    0px -75px 0px rgba(102, 221, 255, 0.65),
    0px -90px 0px rgba(102, 221, 255, 0.48),
    0px -105px 0px rgba(102, 221, 255, 0.28),
    0px -120px 0px rgba(102, 221, 255, 0.12),
    
    /* Up-Left ↖ (-45deg) */
    -11px -11px 0px rgba(127, 255, 192, 1),
    -22px -22px 0px rgba(127, 255, 192, 0.95),
    -33px -33px 0px rgba(127, 255, 192, 0.88),
    -44px -44px 0px rgba(127, 255, 192, 0.78),
    -55px -55px 0px rgba(127, 255, 192, 0.65),
    -66px -66px 0px rgba(127, 255, 192, 0.48),
    -77px -77px 0px rgba(127, 255, 192, 0.28),
    -88px -88px 0px rgba(127, 255, 192, 0.12),
    
    /* Left ← */
    -15px 0px 0px rgba(255, 153, 221, 1),
    -30px 0px 0px rgba(255, 153, 221, 0.95),
    -45px 0px 0px rgba(255, 153, 221, 0.88),
    -60px 0px 0px rgba(255, 153, 221, 0.78),
    -75px 0px 0px rgba(255, 153, 221, 0.65),
    -90px 0px 0px rgba(255, 153, 221, 0.48),
    -105px 0px 0px rgba(255, 153, 221, 0.28),
    -120px 0px 0px rgba(255, 153, 221, 0.12),
    
    /* Down-Left ↙ (-135deg) */
    -11px 11px 0px rgba(255, 200, 80, 1),
    -22px 22px 0px rgba(255, 200, 80, 0.95),
    -33px 33px 0px rgba(255, 200, 80, 0.88),
    -44px 44px 0px rgba(255, 200, 80, 0.78),
    -55px 55px 0px rgba(255, 200, 80, 0.65),
    -66px 66px 0px rgba(255, 200, 80, 0.48),
    -77px 77px 0px rgba(255, 200, 80, 0.28),
    -88px 88px 0px rgba(255, 200, 80, 0.12),
    
    /* Down ↓ */
    0px 15px 0px rgba(153, 221, 255, 1),
    0px 30px 0px rgba(153, 221, 255, 0.95),
    0px 45px 0px rgba(153, 221, 255, 0.88),
    0px 60px 0px rgba(153, 221, 255, 0.78),
    0px 75px 0px rgba(153, 221, 255, 0.65),
    0px 90px 0px rgba(153, 221, 255, 0.48),
    0px 105px 0px rgba(153, 221, 255, 0.28),
    0px 120px 0px rgba(153, 221, 255, 0.12),
    
    /* Down-Right ↘ (135deg) */
    11px 11px 0px rgba(255, 255, 136, 1),
    22px 22px 0px rgba(255, 255, 136, 0.95),
    33px 33px 0px rgba(255, 255, 136, 0.88),
    44px 44px 0px rgba(255, 255, 136, 0.78),
    55px 55px 0px rgba(255, 255, 136, 0.65),
    66px 66px 0px rgba(255, 255, 136, 0.48),
    77px 77px 0px rgba(255, 255, 136, 0.28),
    88px 88px 0px rgba(255, 255, 136, 0.12);
  animation: shoot-lines 2.8s ease-out infinite;
  opacity: 0;
  filter: drop-shadow(0 0 2px rgba(255, 255, 255, 0.5));
}

/* Conic gradient rays - flowing line effect */
.fw::after {
  width: 200px !important;
  height: 200px !important;
  margin: -100px 0 0 -100px !important;
  background: conic-gradient(
    from 0deg,
    transparent 0deg 4deg,
    rgba(255, 220, 100, 0.95) 4deg 8deg,
    rgba(255, 220, 100, 0.6) 8deg 16deg,
    rgba(255, 220, 100, 0.2) 16deg 22.5deg,
    transparent 22.5deg 26deg,
    rgba(255, 200, 80, 0.95) 26deg 30deg,
    rgba(255, 200, 80, 0.6) 30deg 38deg,
    rgba(255, 200, 80, 0.2) 38deg 44deg,
    transparent 44deg 48deg,
    rgba(255, 107, 107, 0.95) 48deg 52deg,
    rgba(255, 107, 107, 0.6) 52deg 60deg,
    rgba(255, 107, 107, 0.2) 60deg 66deg,
    transparent 66deg 70deg,
    rgba(255, 150, 100, 0.95) 70deg 74deg,
    rgba(255, 150, 100, 0.6) 74deg 82deg,
    rgba(255, 150, 100, 0.2) 82deg 88deg,
    transparent 88deg 92deg,
    rgba(153, 221, 255, 0.95) 92deg 96deg,
    rgba(153, 221, 255, 0.6) 96deg 104deg,
    rgba(153, 221, 255, 0.2) 104deg 110deg,
    transparent 110deg 114deg,
    rgba(127, 200, 255, 0.95) 114deg 118deg,
    rgba(127, 200, 255, 0.6) 118deg 126deg,
    rgba(127, 200, 255, 0.2) 126deg 132deg,
    transparent 132deg 136deg,
    rgba(255, 200, 80, 0.95) 136deg 140deg,
    rgba(255, 200, 80, 0.6) 140deg 148deg,
    rgba(255, 200, 80, 0.2) 148deg 154deg,
    transparent 154deg 158deg,
    rgba(255, 153, 221, 0.95) 158deg 162deg,
    rgba(255, 153, 221, 0.6) 162deg 170deg,
    rgba(255, 153, 221, 0.2) 170deg 176deg,
    transparent 176deg 180deg,
    rgba(200, 220, 255, 0.95) 180deg 184deg,
    rgba(200, 220, 255, 0.6) 184deg 192deg,
    rgba(200, 220, 255, 0.2) 192deg 198deg,
    transparent 198deg 202deg,
    rgba(127, 255, 192, 0.95) 202deg 206deg,
    rgba(127, 255, 192, 0.6) 206deg 214deg,
    rgba(127, 255, 192, 0.2) 214deg 220deg,
    transparent 220deg 224deg,
    rgba(150, 255, 220, 0.95) 224deg 228deg,
    rgba(150, 255, 220, 0.6) 228deg 236deg,
    rgba(150, 255, 220, 0.2) 236deg 242deg,
    transparent 242deg 246deg,
    rgba(102, 221, 255, 0.95) 246deg 250deg,
    rgba(102, 221, 255, 0.6) 250deg 258deg,
    rgba(102, 221, 255, 0.2) 258deg 264deg,
    transparent 264deg 268deg,
    rgba(180, 230, 255, 0.95) 268deg 272deg,
    rgba(180, 230, 255, 0.6) 272deg 280deg,
    rgba(180, 230, 255, 0.2) 280deg 286deg,
    transparent 286deg 290deg,
    rgba(255, 255, 136, 0.95) 290deg 294deg,
    rgba(255, 255, 136, 0.6) 294deg 302deg,
    rgba(255, 255, 136, 0.2) 302deg 308deg,
    transparent 308deg 312deg,
    rgba(255, 255, 180, 0.95) 312deg 316deg,
    rgba(255, 255, 180, 0.6) 316deg 324deg,
    rgba(255, 255, 180, 0.2) 324deg 330deg,
    transparent 330deg 360deg
  ) !important;
  border-radius: 50% !important;
  box-shadow: none !important;
  animation: shoot-lines 2.8s ease-out infinite;
  opacity: 1;
  filter: drop-shadow(0 0 4px rgba(255, 255, 255, 0.7)) blur(1px);
}

/* Shooting line animation */
@keyframes shoot-lines {
  0% {
    opacity: 0;
  }
  8% {
    opacity: 1;
  }
  35% {
    opacity: 1;
  }
  70% {
    opacity: 0.5;
  }
  100% {
    opacity: 0;
  }
}

/* Background flash effect synchronized with explosions */
@keyframes bg-flash {
  0% {
    filter: brightness(1);
  }
  8% {
    filter: brightness(1.8);
  }
  15% {
    filter: brightness(1.6);
  }
  30% {
    filter: brightness(1.3);
  }
  50% {
    filter: brightness(1.1);
  }
  100% {
    filter: brightness(1);
  }
}

/* Inner core expands in all directions */
@keyframes inner-spark {
  0% {
    transform: scale(0);
    opacity: 0;
  }
  18% {
    transform: scale(0.5);
    opacity: 1;
  }
  40% {
    transform: scale(1.2);
    opacity: 0.9;
  }
  65% {
    transform: scale(2);
    opacity: 0.4;
  }
  100% {
    transform: scale(3);
    opacity: 0;
  }
}

/* Particles burst outward in multiple directions with trailing effect */
@keyframes radial-particles {
  0% {
    opacity: 0;
    transform: translate(0, 0) scale(0);
  }
  10% {
    opacity: 1;
  }
  25% {
    opacity: 1;
    transform: scale(1.3);
  }
  45% {
    opacity: 0.95;
    transform: scale(1.8);
  }
  65% {
    opacity: 0.6;
    transform: scale(2.3);
  }
  85% {
    opacity: 0.2;
    transform: scale(2.8);
  }
  100% {
    opacity: 0;
    transform: scale(3.2);
  }
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .fw {
    width: 16px;
    height: 16px;
  }
  .fw::after {
    width: 2.5px;
    height: 2.5px;
    margin: -1.25px 0 0 -1.25px;
  }
  h1 {
    font-size: clamp(1.8rem, 7vw, 4.5rem);
  }
}

@media (max-width: 480px) {
  .fw {
    width: 12px;
    height: 12px;
  }
  .fw::after {
    width: 2px;
    height: 2px;
    margin: -1px 0 0 -1px;
  }
  h1 {
    font-size: clamp(1.5rem, 8vw, 3.5rem);
  }
}

/* Respect reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  .fw {
    animation: none;
    opacity: 0.8;
    transform: scale(1.5);
  }
  .fw::before,
  .fw::after {
    animation: none;
    opacity: 0.5;
  }
}
